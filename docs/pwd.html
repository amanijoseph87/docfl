<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Web based File Manager in PHP, Manage your files efficiently and easily with Tiny File Manager">
    <meta name="author" content="CCP Programmers">
    <meta name="robots" content="noindex, nofollow">
    <meta name="googlebot" content="noindex">
    <title>TINY PHP5 PASSWORD HASH GENERATOR</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
        .code {
            background: #e8e8e8;
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 10px;
        }
        pre { margin: 0}
        .form-control:focus {
            border-color: #28a745;
            box-shadow: none;
        }
    </style>
</head>
<body class="bg-secondary">
<div id="wrapper" class="container-fluid">

    <section>

        <div class="row">
            <div class="col-xs-12 col-sm-6">

                <div class="card mt-4 mb-2">
                    <h5 class="card-header">TINY FILE MANAGER</h5>
                    <div class="card-body">
                        <h5 class="card-title">PHP5 PASSWORD HASH GENERATOR</h5>
                        <p class="card-text">PHP5 password_hash() is a predefined (built in) function on php 5.5 and above. Verifiable with password_verify() but non reversable.</p>

                        <form class="form-signin" action="" method="post" autocomplete="off">
                            <div class="form-row align-items-center">
                                <div class="col-sm-8 my-1">
                                    <label class="sr-only" for="fm_pwd">Password</label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div class="input-group-text">Password</div>
                                        </div>
                                        <input type="text" class="form-control" id="fm_pwd" name="fm_pwd" placeholder="Enter your password" required>
                                    </div>
                                </div>
                                <div class="col-auto my-1">
                                    <button type="submit" class="btn btn-success">GENERATE</button>
                                </div>

                                <div class="col-10 mt-3">
                                    <div class="form-group">
                                        <label for="resultarea">PASSWORD HASH</label>
                                        <textarea type="text" class="form-control" rows="3" id="resultarea" readonly></textarea>
                                        <a href="#/resultarea" id="copy-hash">Copy</a>
                                    </div>
                                </div>

                            </div>
                        </form>

                    </div>
                </div>

            </div>

            <div class="col-xs-12 col-sm-6">
                <div class="card mt-4 mb-2">
                    <h5 class="card-header">HOW TO USE</h5>
                    <div class="card-body">
                    <div class="code" role="alert">
<pre><code>$auth_users = array(
    'username' => 'REPLACE YOUR GENERATED PASSWORD HERE'
);
</code></pre>
                    </div>
                    <p>If not able to generate password or facing any issue, than generate password using tinyfilemanager itsef on  tinyfilemanager > settings > Generate new password hash or alternative password <a href="http://www.passwordtool.hu/php5-password-hash-generator" target="_blank" class="text-primary">generator here</a></p>
                    <p>or you can use directly use password in tinyfilemanager it self</p>
                    <div class="code" role="alert">
<pre><code>$auth_users = array(
    'username' => password_hash('password here', PASSWORD_DEFAULT)
);
</code></pre>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="mt-5 text-center text-white">
        &mdash;&mdash; &copy; <a href="https://github.com/prasathmani/tinyfilemanager" target="_blank" class="text-white"> Tiny File Manager</a> &mdash;&mdash;
    </div>


</div>

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script>

    function copyToClipboard(text) {
        if (window.clipboardData && window.clipboardData.setData) {
            return clipboardData.setData("Text", text);

        } else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
            var textarea = document.createElement("textarea");
            textarea.textContent = text;
            textarea.style.position = "fixed";
            document.body.appendChild(textarea);
            textarea.select();
            try {
                return document.execCommand("copy");
            } catch (ex) {
                console.warn("Copy to clipboard failed.", ex);
                return false;
            } finally {
                document.body.removeChild(textarea);
            }
        }
    }

    $("a#copy-hash").on("click", function (e) {
        e.preventDefault();
        var data = $("#resultarea").val();
        if(!!data) {
            copyToClipboard(data);
        }
    });

    $('.form-signin').on('submit', function (e) {
        e.preventDefault();
        $("#resultarea").val('');
        var pwd = $('#fm_pwd').val();
        if(!!pwd) {
            $.ajax({
                type: "GET",
                url: "https://tinyfilemanager.eu-gb.mybluemix.net/pwd.php",
                data: 'pwd='+pwd,
                dataType: 'jsonp',
                cache: false,
                success: function(data){
                    $("#resultarea").val(data);
                }
            });
        }

    });
</script>
</body>
</html>
